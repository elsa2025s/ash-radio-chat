(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8610:(e,t,a)=>{Promise.resolve().then(a.bind(a,9973))},9973:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eU});var r=a(5853),s=a(9708),l=a(2085),n=a(2115),i=a(2596),o=a(9688);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,i.$)(t))}let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),m=n.forwardRef((e,t)=>{let{className:a,variant:l,size:n,asChild:i=!1,...o}=e,m=i?s.DX:"button";return(0,r.Y)(m,{className:d(c({variant:l,size:n,className:a})),ref:t,...o})});m.displayName="Button";let u=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("rounded-xl border bg-card text-card-foreground shadow",a),...s})});u.displayName="Card";let h=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",a),...s})});h.displayName="CardHeader";let p=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("font-semibold leading-none tracking-tight",a),...s})});p.displayName="CardTitle";let f=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("text-sm text-muted-foreground",a),...s})});f.displayName="CardDescription";let g=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("p-6 pt-0",a),...s})});g.displayName="CardContent",n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var v=a(5452),x=a(5318);let N=v.bL;v.l9;let b=v.ZL;v.bm;let w=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(v.hJ,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});w.displayName=v.hJ.displayName;let Y=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.FD)(b,{children:[(0,r.Y)(w,{}),(0,r.FD)(v.UC,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[s,(0,r.FD)(v.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.Y)(x.A,{className:"h-4 w-4"}),(0,r.Y)("span",{className:"sr-only",children:"Close"})]})]})]})});Y.displayName=v.UC.displayName;let y=e=>{let{className:t,...a}=e;return(0,r.Y)("div",{className:d("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};y.displayName="DialogHeader";let D=e=>{let{className:t,...a}=e;return(0,r.Y)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};D.displayName="DialogFooter";let F=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(v.hE,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a),...s})});F.displayName=v.hE.displayName;let A=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(v.VY,{ref:t,className:d("text-sm text-muted-foreground",a),...s})});A.displayName=v.VY.displayName;let C=n.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.Y)("input",{type:s,className:d("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});C.displayName="Input";var k=a(968);let R=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(k.b,{ref:t,className:d(R(),a),...s})});S.displayName=k.b.displayName;var E=a(64);let z=E.bL,j=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(E.B8,{ref:t,className:d("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s})});j.displayName=E.B8.displayName;let _=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(E.l9,{ref:t,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s})});_.displayName=E.l9.displayName;let I=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(E.UC,{ref:t,className:d("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});I.displayName=E.UC.displayName;let U=()=>{let[e,t]=(0,n.useState)({user:null,token:null,loading:!0});(0,n.useEffect)(()=>{let e=localStorage.getItem("chat_token"),a=localStorage.getItem("chat_user");if(e&&a)try{let r=JSON.parse(a);t({user:r,token:e,loading:!1})}catch(e){console.error("Erreur lors du parsing de l'utilisateur sauv\xe9:",e),localStorage.removeItem("chat_token"),localStorage.removeItem("chat_user"),t({user:null,token:null,loading:!1})}else t({user:null,token:null,loading:!1})},[]);let a=async(e,a)=>{try{let r=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}),s=await r.json();if(r.ok)return localStorage.setItem("chat_token",s.token),localStorage.setItem("chat_user",JSON.stringify(s.user)),t({user:s.user,token:s.token,loading:!1}),{success:!0};return{success:!1,error:s.error||"Erreur de connexion"}}catch(e){return console.error("Erreur lors de la connexion:",e),{success:!1,error:"Erreur de r\xe9seau"}}},r=async(e,a,r)=>{try{let s=await fetch("http://localhost:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:a,password:r})}),l=await s.json();if(s.ok)return localStorage.setItem("chat_token",l.token),localStorage.setItem("chat_user",JSON.stringify(l.user)),t({user:l.user,token:l.token,loading:!1}),{success:!0};return{success:!1,error:l.error||"Erreur lors de l'inscription"}}catch(e){return console.error("Erreur lors de l'inscription:",e),{success:!1,error:"Erreur de r\xe9seau"}}};return{...e,login:a,register:r,logout:()=>{localStorage.removeItem("chat_token"),localStorage.removeItem("chat_user"),t({user:null,token:null,loading:!1})}}};var L=a(9529),P=a(8921),T=a(8553),q=a(172);function M(e){let{open:t,onClose:a}=e,{login:s,register:l}=U(),[i,o]=(0,n.useState)({username:"",password:""}),[d,c]=(0,n.useState)({username:"",email:"",password:"",confirmPassword:""}),[v,x]=(0,n.useState)(!1),[b,w]=(0,n.useState)(""),D=async e=>{e.preventDefault(),x(!0),w("");let t=await s(i.username,i.password);t.success?a():w(t.error||"Erreur de connexion"),x(!1)},A=async e=>{if(e.preventDefault(),x(!0),w(""),d.password!==d.confirmPassword){w("Les mots de passe ne correspondent pas"),x(!1);return}if(d.password.length<6){w("Le mot de passe doit contenir au moins 6 caract\xe8res"),x(!1);return}let t=await l(d.username,d.email,d.password);t.success?a():w(t.error||"Erreur lors de l'inscription"),x(!1)};return(0,r.Y)(N,{open:t,onOpenChange:a,children:(0,r.FD)(Y,{className:"sm:max-w-md",children:[(0,r.Y)(y,{children:(0,r.Y)(F,{className:"flex items-center gap-2 justify-center",children:(0,r.FD)("div",{className:"flex items-center space-x-2",children:[(0,r.Y)(L.A,{className:"h-6 w-6 text-red-500"}),(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("span",{className:"font-bold text-xl text-red-600",children:"Ash-Radio"}),(0,r.Y)("p",{className:"text-xs text-slate-500 font-normal",children:"ashradio-direct.com"})]})]})})}),(0,r.FD)("div",{className:"text-center mb-4",children:[(0,r.FD)("div",{className:"flex items-center justify-center space-x-4 text-red-400 mb-2",children:[(0,r.Y)(P.A,{className:"h-5 w-5"}),(0,r.Y)(T.A,{className:"h-5 w-5"}),(0,r.Y)(L.A,{className:"h-5 w-5"})]}),(0,r.Y)("p",{className:"text-sm text-slate-600",children:"Rejoignez la communaut\xe9 Ash-Radio et discutez en direct avec les auditeurs !"})]}),(0,r.FD)(z,{defaultValue:"login",className:"w-full",children:[(0,r.FD)(j,{className:"grid w-full grid-cols-2",children:[(0,r.Y)(_,{value:"login",children:"Connexion"}),(0,r.Y)(_,{value:"register",children:"Inscription"})]}),(0,r.Y)(I,{value:"login",children:(0,r.FD)(u,{children:[(0,r.FD)(h,{children:[(0,r.Y)(p,{className:"text-red-600",children:"Se connecter"}),(0,r.Y)(f,{children:"Connectez-vous pour participer au chat d'Ash-Radio"})]}),(0,r.Y)(g,{children:(0,r.FD)("form",{onSubmit:D,className:"space-y-4",children:[(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"login-username",children:"Nom d'utilisateur"}),(0,r.Y)(C,{id:"login-username",type:"text",placeholder:"Votre pseudo radio",value:i.username,onChange:e=>o({...i,username:e.target.value}),className:"focus:border-red-500",required:!0})]}),(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"login-password",children:"Mot de passe"}),(0,r.Y)(C,{id:"login-password",type:"password",placeholder:"Votre mot de passe",value:i.password,onChange:e=>o({...i,password:e.target.value}),className:"focus:border-red-500",required:!0})]}),b&&(0,r.Y)("div",{className:"text-sm text-red-500 bg-red-50 p-2 rounded border border-red-200",children:b}),(0,r.Y)(m,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600",disabled:v,children:v?(0,r.FD)(r.FK,{children:[(0,r.Y)(q.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion..."]}):(0,r.FD)(r.FK,{children:[(0,r.Y)(L.A,{className:"mr-2 h-4 w-4"}),"Rejoindre Ash-Radio"]})})]})})]})}),(0,r.Y)(I,{value:"register",children:(0,r.FD)(u,{children:[(0,r.FD)(h,{children:[(0,r.Y)(p,{className:"text-red-600",children:"S'inscrire"}),(0,r.Y)(f,{children:"Cr\xe9ez votre compte pour devenir membre de la communaut\xe9 Ash-Radio"})]}),(0,r.Y)(g,{children:(0,r.FD)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"register-username",children:"Nom d'utilisateur"}),(0,r.Y)(C,{id:"register-username",type:"text",placeholder:"Choisissez votre pseudo radio",value:d.username,onChange:e=>c({...d,username:e.target.value}),className:"focus:border-red-500",required:!0})]}),(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"register-email",children:"Email"}),(0,r.Y)(C,{id:"register-email",type:"email",placeholder:"votre@email.com",value:d.email,onChange:e=>c({...d,email:e.target.value}),className:"focus:border-red-500",required:!0})]}),(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"register-password",children:"Mot de passe"}),(0,r.Y)(C,{id:"register-password",type:"password",placeholder:"Au moins 6 caract\xe8res",value:d.password,onChange:e=>c({...d,password:e.target.value}),className:"focus:border-red-500",required:!0})]}),(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"register-confirm",children:"Confirmer le mot de passe"}),(0,r.Y)(C,{id:"register-confirm",type:"password",placeholder:"R\xe9p\xe9tez votre mot de passe",value:d.confirmPassword,onChange:e=>c({...d,confirmPassword:e.target.value}),className:"focus:border-red-500",required:!0})]}),b&&(0,r.Y)("div",{className:"text-sm text-red-500 bg-red-50 p-2 rounded border border-red-200",children:b}),(0,r.Y)(m,{type:"submit",className:"w-full bg-red-500 hover:bg-red-600",disabled:v,children:v?(0,r.FD)(r.FK,{children:[(0,r.Y)(q.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription..."]}):(0,r.FD)(r.FK,{children:[(0,r.Y)(T.A,{className:"mr-2 h-4 w-4"}),"Rejoindre la communaut\xe9"]})})]})})]})})]}),(0,r.FD)("div",{className:"text-xs text-center text-slate-500 mt-4 border-t pt-4",children:[(0,r.FD)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,r.Y)(L.A,{className:"h-3 w-3 text-red-400"}),(0,r.Y)("span",{className:"font-medium",children:"Ash-Radio Community"})]}),(0,r.Y)("p",{children:"En vous connectant, vous acceptez de respecter les r\xe8gles de notre communaut\xe9 radio."}),(0,r.Y)("p",{className:"mt-1",children:"\xc9coutez ashradio-direct.com en direct !"})]})]})})}var O=a(547);let V=O.bL,B=O.l9;O.Mz;let J=n.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:l=4,...n}=e;return(0,r.Y)(O.ZL,{children:(0,r.Y)(O.UC,{ref:t,align:s,sideOffset:l,className:d("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",a),...n})})});J.displayName=O.UC.displayName;let K=(0,a(5028).default)(()=>Promise.all([a.e(666),a.e(896)]).then(a.bind(a,4996)),{loadableGenerated:{webpack:()=>[4996]},ssr:!1,loading:()=>(0,r.Y)("div",{className:"w-[350px] h-[400px] flex items-center justify-center",children:"Chargement..."})});function G(e){let{onEmojiSelect:t,trigger:a}=e,[s,l]=(0,n.useState)(!1);return(0,r.FD)(V,{open:s,onOpenChange:l,children:[(0,r.Y)(B,{asChild:!0,children:a}),(0,r.Y)(J,{className:"w-[350px] p-0 border-0 shadow-lg",side:"top",align:"start",children:(0,r.Y)(K,{onEmojiClick:e=>{t(e.emoji),l(!1)},width:350,height:400,searchDisabled:!1,skinTonesDisabled:!1,previewConfig:{showPreview:!1},lazyLoadEmojis:!0})})]})}var H=a(9311),Z=a(6923),W=a(1046);function Q(e){let{onImageUpload:t,trigger:a}=e,[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null),p=(0,n.useCallback)(e=>{let t=e[0];if(t){h(t);let e=new FileReader;e.onload=e=>{var t;o(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(t)}},[]),{getRootProps:f,getInputProps:g,isDragActive:v}=(0,W.VB)({onDrop:p,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},maxSize:5242880,multiple:!1}),b=async()=>{if(u){c(!0);try{let e=new FileReader;e.onload=e=>{var a;let r=null==(a=e.target)?void 0:a.result;t(r),l(!1),w()},e.readAsDataURL(u)}catch(e){console.error("Erreur lors de l'upload:",e)}finally{c(!1)}}},w=()=>{l(!1),o(null),h(null),c(!1)};return(0,r.FD)(r.FK,{children:[(0,r.Y)("div",{onClick:()=>l(!0),children:a}),(0,r.Y)(N,{open:s,onOpenChange:w,children:(0,r.FD)(Y,{className:"sm:max-w-md",children:[(0,r.Y)(y,{children:(0,r.FD)(F,{className:"flex items-center gap-2",children:[(0,r.Y)(H.A,{className:"h-5 w-5"}),"Partager une image"]})}),(0,r.Y)("div",{className:"space-y-4",children:i?(0,r.FD)("div",{className:"space-y-4",children:[(0,r.FD)("div",{className:"relative",children:[(0,r.Y)("img",{src:i,alt:"Pr\xe9visualisation",className:"w-full max-h-64 object-contain rounded-lg border"}),(0,r.Y)(m,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>{o(null),h(null)},children:(0,r.Y)(x.A,{className:"h-4 w-4"})})]}),(0,r.FD)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,r.Y)(H.A,{className:"h-4 w-4"}),(0,r.Y)("span",{children:null==u?void 0:u.name}),(0,r.FD)("span",{className:"text-slate-400",children:["(",((null==u?void 0:u.size)||0).toFixed(2)," MB)"]})]})]}):(0,r.FD)("div",{...f(),className:"\n                  border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n                  ".concat(v?"border-blue-500 bg-blue-50":"border-slate-300 hover:border-slate-400","\n                "),children:[(0,r.Y)("input",{...g()}),(0,r.Y)(Z.A,{className:"mx-auto h-12 w-12 text-slate-400 mb-4"}),(0,r.Y)("p",{className:"text-sm text-slate-600 mb-2",children:v?"D\xe9posez l'image ici...":"Glissez-d\xe9posez une image ici, ou cliquez pour s\xe9lectionner"}),(0,r.Y)("p",{className:"text-xs text-slate-400",children:"PNG, JPG, GIF jusqu'\xe0 5MB"})]})}),(0,r.FD)(D,{children:[(0,r.Y)(m,{variant:"outline",onClick:w,children:"Annuler"}),(0,r.Y)(m,{onClick:b,disabled:!u||d,className:"bg-blue-500 hover:bg-blue-600",children:d?(0,r.FD)(r.FK,{children:[(0,r.Y)(q.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Upload..."]}):"Envoyer l'image"})]})]})})]})}let X=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$=n.forwardRef((e,t)=>{let{className:a,variant:s,...l}=e;return(0,r.Y)("div",{ref:t,role:"alert",className:d(X({variant:s}),a),...l})});$.displayName="Alert",n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("h5",{ref:t,className:d("mb-1 font-medium leading-none tracking-tight",a),...s})}).displayName="AlertTitle";let ee=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("div",{ref:t,className:d("text-sm [&_p]:leading-relaxed",a),...s})});ee.displayName="AlertDescription";var et=a(9969),ea=a(9556),er=a(7381),es=a(518);let el=et.bL;et.YJ;let en=et.WT,ei=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.FD)(et.l9,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[s,(0,r.Y)(et.In,{asChild:!0,children:(0,r.Y)(ea.A,{className:"h-4 w-4 opacity-50"})})]})});ei.displayName=et.l9.displayName;let eo=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(et.PP,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.Y)(er.A,{className:"h-4 w-4"})})});eo.displayName=et.PP.displayName;let ed=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(et.wn,{ref:t,className:d("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.Y)(ea.A,{className:"h-4 w-4"})})});ed.displayName=et.wn.displayName;let ec=n.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...n}=e;return(0,r.Y)(et.ZL,{children:(0,r.FD)(et.UC,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,r.Y)(eo,{}),(0,r.Y)(et.LM,{className:d("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.Y)(ed,{})]})})});ec.displayName=et.UC.displayName,n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(et.JU,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=et.JU.displayName;let em=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.FD)(et.q7,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.Y)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.Y)(et.VF,{children:(0,r.Y)(es.A,{className:"h-4 w-4"})})}),(0,r.Y)(et.p4,{children:s})]})});em.displayName=et.q7.displayName,n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)(et.wv,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=et.wv.displayName;let eu=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.Y)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});eu.displayName="Textarea";var eh=a(1949),ep=a(3920),ef=a(6603),eg=a(1133);function ev(e){let{open:t,onClose:a,targetUser:s,currentUserRole:l,onModerate:i}=e,[o,d]=(0,n.useState)("warn"),[c,u]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),f="admin"===l||"moderator"===l,g=async()=>{if(s&&f){p(!0);try{await i(s.id,o,c.trim()||void 0),a(),d("warn"),u("")}catch(e){console.error("Erreur lors de la mod\xe9ration:",e)}finally{p(!1)}}};if(!f)return null;let v=(e=>{switch(e){case"warn":return{title:"Avertissement",description:"Envoie un avertissement \xe0 l'utilisateur",icon:eh.A,color:"text-yellow-600"};case"kick":return{title:"Expulsion temporaire",description:"Expulse l'utilisateur du chat temporairement",icon:ep.A,color:"text-orange-600"};case"ban":return{title:"Bannissement",description:"Bannit d\xe9finitivement l'utilisateur du chat",icon:ef.A,color:"text-red-600"};default:return{title:"Action",description:"",icon:eg.A,color:"text-gray-600"}}})(o),x=v.icon;return(0,r.Y)(N,{open:t,onOpenChange:a,children:(0,r.FD)(Y,{className:"sm:max-w-md",children:[(0,r.FD)(y,{children:[(0,r.FD)(F,{className:"flex items-center gap-2",children:[(0,r.Y)(x,{className:"h-5 w-5 ".concat(v.color)}),"Mod\xe9ration - ",null==s?void 0:s.username]}),(0,r.FD)(A,{children:["En tant que"," ","admin"===l?"administrateur":"mod\xe9rateur"," ","d'Ash-Radio, vous pouvez sanctionner cet utilisateur."]})]}),(0,r.FD)("div",{className:"space-y-4",children:[(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"action",children:"Type de sanction"}),(0,r.FD)(el,{value:o,onValueChange:e=>d(e),children:[(0,r.Y)(ei,{children:(0,r.Y)(en,{placeholder:"Choisir une action"})}),(0,r.FD)(ec,{children:[(0,r.Y)(em,{value:"warn",children:(0,r.FD)("div",{className:"flex items-center gap-2",children:[(0,r.Y)(eh.A,{className:"h-4 w-4 text-yellow-600"}),"Avertissement"]})}),(0,r.Y)(em,{value:"kick",children:(0,r.FD)("div",{className:"flex items-center gap-2",children:[(0,r.Y)(ep.A,{className:"h-4 w-4 text-orange-600"}),"Expulsion temporaire"]})}),"admin"===l&&(0,r.Y)(em,{value:"ban",children:(0,r.FD)("div",{className:"flex items-center gap-2",children:[(0,r.Y)(ef.A,{className:"h-4 w-4 text-red-600"}),"Bannissement"]})})]})]})]}),(0,r.FD)($,{children:[(0,r.Y)(x,{className:"h-4 w-4 ".concat(v.color)}),(0,r.FD)(ee,{children:[(0,r.FD)("strong",{children:[v.title,":"]})," ",v.description]})]}),(0,r.FD)("div",{className:"space-y-2",children:[(0,r.Y)(S,{htmlFor:"reason",children:"Raison (optionnel)"}),(0,r.Y)(eu,{id:"reason",placeholder:"Expliquez bri\xe8vement la raison de cette sanction...",value:c,onChange:e=>u(e.target.value),className:"min-h-[80px]"})]}),"ban"===o&&(0,r.FD)($,{className:"border-red-200 bg-red-50",children:[(0,r.Y)(ef.A,{className:"h-4 w-4 text-red-600"}),(0,r.FD)(ee,{className:"text-red-800",children:[(0,r.Y)("strong",{children:"Attention:"})," Le bannissement est une action d\xe9finitive. L'utilisateur ne pourra plus acc\xe9der au chat Ash-Radio."]})]})]}),(0,r.FD)(D,{children:[(0,r.Y)(m,{variant:"outline",onClick:a,children:"Annuler"}),(0,r.Y)(m,{onClick:g,disabled:h,className:"".concat("ban"===o?"bg-red-600 hover:bg-red-700":"kick"===o?"bg-orange-600 hover:bg-orange-700":"bg-yellow-600 hover:bg-yellow-700"," text-white"),children:h?"Application...":"Appliquer ".concat(v.title.toLowerCase())})]})]})})}let ex=(0,l.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eN(e){let{className:t,variant:a,...s}=e;return(0,r.Y)("div",{className:d(ex({variant:a}),t),...s})}var eb=a(4913),ew=a(5731),eY=a(1721);function ey(e){let{role:t,className:a=""}=e,s=(e=>{switch(e){case"admin":return{label:"Admin",icon:eb.A,className:"bg-red-600 text-white hover:bg-red-700",description:"Administrateur Ash-Radio"};case"moderator":return{label:"Mod",icon:ew.A,className:"bg-purple-600 text-white hover:bg-purple-700",description:"Mod\xe9rateur Ash-Radio"};case"user":return{label:"Auditeur",icon:eY.A,className:"bg-blue-600 text-white hover:bg-blue-700",description:"Auditeur Ash-Radio"};default:return{label:"Auditeur",icon:eY.A,className:"bg-gray-600 text-white hover:bg-gray-700",description:"Auditeur"}}})(t),l=s.icon;return(0,r.FD)(eN,{className:"".concat(s.className," ").concat(a," text-xs font-medium flex items-center gap-1"),title:s.description,children:[(0,r.Y)(l,{className:"h-3 w-3"}),s.label]})}var eD=a(7655);let eF=n.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.FD)(eD.bL,{ref:t,className:d("relative overflow-hidden",a),...l,children:[(0,r.Y)(eD.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.Y)(eA,{}),(0,r.Y)(eD.OK,{})]})});eF.displayName=eD.bL.displayName;let eA=n.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,r.Y)(eD.VM,{ref:t,orientation:s,className:d("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.Y)(eD.lr,{className:"relative flex-1 rounded-full bg-border"})})});eA.displayName=eD.VM.displayName;var eC=a(4298);let ek=e=>{let[t,a]=(0,n.useState)(null),[r,s]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[c,m]=(0,n.useState)([]),[u,h]=(0,n.useState)("general"),[p,f]=(0,n.useState)([]),g=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(e){let t=(0,eC.Ay)("http://localhost:3001",{auth:{token:e},transports:["websocket","polling"]});return t.on("connect",()=>{console.log("\uD83C\uDFA7 Connect\xe9 au serveur Ash-Radio"),s(!0)}),t.on("disconnect",()=>{console.log("\uD83D\uDC4B D\xe9connect\xe9 du serveur Ash-Radio"),s(!1)}),t.on("channels_list",e=>{console.log("\uD83D\uDCFA Channels re\xe7us:",e),m(e)}),t.on("channel_changed",e=>{console.log("\uD83D\uDD04 Channel chang\xe9 vers: ".concat(e.channelName)),h(e.channelId),i([]),f([])}),t.on("message_history",e=>{console.log("\uD83D\uDCDC Historique re\xe7u: ".concat(e.length," messages")),i(e.map(e=>({...e,timestamp:new Date(e.timestamp)})))}),t.on("new_message",e=>{console.log("\uD83D\uDCAC Nouveau message:",e),i(t=>[...t,{...e,timestamp:new Date(e.timestamp)}])}),t.on("channel_users_update",e=>{console.log("\uD83D\uDC65 Utilisateurs du channel: ".concat(e.length)),d(e)}),t.on("user_typing",e=>{f(t=>[...t.filter(t=>t.userId!==e.userId),e])}),t.on("user_stop_typing",e=>{f(t=>t.filter(t=>t.userId!==e.userId))}),t.on("error",e=>{console.error("❌ Erreur WebSocket:",e.message)}),a(t),()=>{t.close()}}},[e]);let v=()=>{t&&(t.emit("typing_stop",{channel:u}),g.current&&(clearTimeout(g.current),g.current=null))};return{socket:t,connected:r,messages:l,users:o,channels:c,currentChannel:u,typingUsers:p.filter(e=>e.channel===u),sendMessage:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",r=arguments.length>2?arguments[2]:void 0;if(t&&e.trim()){let s={content:e.trim(),type:a,channel:u,...r&&{imageUrl:r}};console.log("\uD83D\uDCE4 Envoi message:",s),t.emit("send_message",s)}},joinChannel:e=>{t&&e!==u&&(console.log("\uD83D\uDD04 Changement vers le channel: ".concat(e)),t.emit("join_channel",{channelId:e}))},startTyping:()=>{t&&(t.emit("typing_start",{channel:u}),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{v()},3e3))},stopTyping:v,moderateUser:(e,a,r)=>{t&&(console.log("\uD83D\uDEE1️ Mod\xe9ration: ".concat(a," sur ").concat(e)),t.emit("moderate_user",{userId:e,action:a,reason:r,channel:u}))},getCurrentChannelInfo:()=>c.find(e=>e.id===u),getTypingCount:()=>p.filter(e=>e.channel===u).length,getTypingUsernames:()=>p.filter(e=>e.channel===u).map(e=>e.username)}};var eR=a(4558),eS=a(620),eE=a(154),ez=a(8271),ej=a(9274),e_=a(3672),eI=a(286);function eU(){var e;let{user:t,isAuthenticated:a,logout:s}=U(),{connected:l,messages:i,users:o,channels:d,currentChannel:c,typingUsers:u,sendMessage:h,joinChannel:p,startTyping:f,stopTyping:g,moderateUser:v,getCurrentChannelInfo:x,getTypingUsernames:N}=ek((null==t?void 0:t.token)||null),[b,w]=(0,n.useState)(""),[Y,y]=(0,n.useState)(!1),[D,F]=(0,n.useState)(!1),[A,k]=(0,n.useState)(!1),[R,S]=(0,n.useState)(null),[E,z]=(0,n.useState)(!1),j=(0,n.useRef)(null),_=(0,n.useRef)(null);if((0,n.useEffect)(()=>{var e;null==(e=j.current)||e.scrollIntoView({behavior:"smooth"})},[i]),!a||!t)return(0,r.Y)(M,{});if(!l)return(0,r.Y)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-red-50 to-purple-50",children:(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2"}),(0,r.Y)("p",{className:"text-slate-600",children:"Connexion \xe0 Ash-Radio..."})]})});let I=x(),T=N(),q=()=>{b.trim()&&(h(b.trim()),w(""),z(!1),g())},O=e=>{e!==c&&(z(!1),g(),p(e))},V=e=>e.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),B=e=>{switch(e){case"general":default:return(0,r.Y)(eR.A,{className:"w-4 h-4"});case"musique":return(0,r.Y)(P.A,{className:"w-4 h-4"});case"radio":return(0,r.Y)(L.A,{className:"w-4 h-4"});case"vocal":return(0,r.Y)(eS.A,{className:"w-4 h-4"})}};return(0,r.FD)("div",{className:"flex flex-col md:flex-row h-screen font-sans text-sm overflow-hidden bg-gradient-to-br from-red-50 to-purple-50 text-slate-800 transition-colors duration-300",children:[(0,r.Y)("audio",{preload:"auto",children:(0,r.Y)("source",{src:"https://ext.same-assets.com/2104236545/2000908109.mpga",type:"audio/mpeg"})}),(0,r.Y)("audio",{preload:"auto",children:(0,r.Y)("source",{src:"https://ext.same-assets.com/2104236545/451126872.mpga",type:"audio/mpeg"})}),(0,r.FD)("div",{className:"bg-slate-900 text-white w-full md:w-60 md:min-w-60 border-r border-slate-700",children:[(0,r.FD)("div",{className:"p-4 border-b border-slate-700",children:[(0,r.FD)("div",{className:"flex items-center space-x-2",children:[(0,r.Y)("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center",children:(0,r.Y)(L.A,{className:"w-4 h-4 text-white"})}),(0,r.FD)("div",{className:"flex-1",children:[(0,r.Y)("h1",{className:"font-bold text-white",children:"Ash-Radio"}),(0,r.Y)("p",{className:"text-xs text-slate-300",children:"Community Chat"})]})]}),(0,r.Y)("div",{className:"mt-3",children:(0,r.FD)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,r.FD)("div",{className:"flex items-center space-x-2",children:[(0,r.Y)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,r.Y)("span",{className:"text-xs font-medium text-red-700",children:"EN DIRECT"})]}),(0,r.Y)("p",{className:"text-xs text-red-600 mt-1",children:"Ash-Radio - La meilleure musique 24/7"})]})})]}),(0,r.FD)("div",{className:"p-4",children:[(0,r.Y)("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Channels"}),(0,r.Y)("div",{className:"space-y-1",children:d.map(e=>(0,r.FD)("button",{onClick:()=>O(e.id),className:"w-full flex items-center space-x-2 px-2 py-1.5 rounded text-left transition-colors ".concat(c===e.id?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[(0,r.Y)("div",{style:{color:e.color},children:B(e.id)}),(0,r.Y)("span",{className:"text-sm",children:e.name}),(0,r.Y)(eN,{variant:"secondary",className:"ml-auto text-xs bg-slate-600 text-slate-200",children:e.memberCount})]},e.id))})]}),(0,r.Y)("div",{className:"absolute bottom-0 left-0 right-0 md:relative p-4 border-t border-slate-700 bg-slate-900",children:(0,r.FD)("div",{className:"flex items-center space-x-2",children:[(0,r.Y)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:t.color},children:t.avatar}),(0,r.FD)("div",{className:"flex-1 min-w-0",children:[(0,r.FD)("div",{className:"flex items-center space-x-1",children:[(0,r.Y)("span",{className:"text-sm font-medium text-white truncate",children:t.username}),(0,r.Y)(ey,{role:t.role})]}),(0,r.FD)("div",{className:"flex items-center space-x-1",children:[(0,r.Y)(eE.A,{className:"w-2 h-2 fill-green-500 text-green-500"}),(0,r.Y)("span",{className:"text-xs text-slate-400",children:"En ligne"})]})]}),(0,r.Y)(m,{variant:"ghost",size:"sm",onClick:s,className:"text-slate-400 hover:text-white",children:(0,r.Y)(ez.A,{className:"w-4 h-4"})})]})})]}),(0,r.FD)("div",{className:"flex-1 flex flex-col",children:[(0,r.Y)("div",{className:"bg-white border-b border-slate-200 p-4 shadow-sm",children:(0,r.FD)("div",{className:"flex items-center justify-between",children:[(0,r.FD)("div",{className:"flex items-center space-x-3",children:[(0,r.Y)("div",{style:{color:(null==I?void 0:I.color)||"#3B82F6"},children:B(c)}),(0,r.FD)("div",{children:[(0,r.Y)("h2",{className:"font-semibold text-slate-900",children:(null==I?void 0:I.name)||"#general"}),(0,r.Y)("p",{className:"text-xs text-slate-500",children:(null==I?void 0:I.topic)||"Bienvenue sur Ash-Radio !"})]})]}),(0,r.Y)("div",{className:"flex items-center space-x-2",children:(0,r.FD)(eN,{variant:"outline",className:"text-slate-600",children:[o.length," ",o.length>1?"utilisateurs":"utilisateur"]})})]})}),(0,r.Y)(eF,{className:"flex-1 p-4",children:(0,r.FD)("div",{className:"space-y-3",children:[i.map(e=>{var t;return(0,r.Y)("div",{className:"group",children:"system"===e.type?(0,r.Y)("div",{className:"text-center",children:(0,r.Y)("span",{className:"text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full",children:e.content})}):(0,r.FD)("div",{className:"flex space-x-3",children:[(0,r.Y)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white flex-shrink-0",style:{backgroundColor:(null==(t=o.find(t=>t.id===e.userId))?void 0:t.color)||"#3B82F6"},children:e.username.charAt(0).toUpperCase()}),(0,r.FD)("div",{className:"flex-1 min-w-0",children:[(0,r.FD)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.Y)("span",{className:"font-medium text-slate-900",children:e.username}),e.userRole&&(0,r.Y)(ey,{role:e.userRole}),(0,r.Y)("span",{className:"text-xs text-slate-500",children:V(e.timestamp)})]}),(0,r.Y)("div",{className:"text-slate-700",children:"image"===e.type?(0,r.FD)("div",{children:[(0,r.Y)("p",{className:"mb-2",children:e.content}),e.imageUrl&&(0,r.Y)("img",{src:e.imageUrl,alt:"Image partag\xe9e",className:"max-w-sm rounded-lg border"})]}):(0,r.Y)("p",{children:e.content})})]})]})},e.id)}),T.length>0&&(0,r.Y)("div",{className:"flex items-center space-x-2",children:(0,r.FD)("div",{className:"text-xs text-slate-500 italic flex items-center space-x-1",children:[(0,r.FD)("div",{className:"flex space-x-1",children:[(0,r.Y)("div",{className:"w-1 h-1 bg-slate-400 rounded-full animate-bounce"}),(0,r.Y)("div",{className:"w-1 h-1 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.Y)("div",{className:"w-1 h-1 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,r.Y)("span",{children:1===T.length?"".concat(T[0]," est en train d'\xe9crire..."):"".concat(T.length," personnes sont en train d'\xe9crire...")})]})}),(0,r.Y)("div",{ref:j})]})}),(0,r.FD)("div",{className:"bg-white border-t border-slate-200 p-4",children:[(0,r.FD)("div",{className:"flex items-center space-x-2",children:[(0,r.FD)("div",{className:"flex-1 relative",children:[(0,r.Y)(C,{ref:_,value:b,onChange:e=>{w(e.target.value),!E&&e.target.value.length>0?(z(!0),f()):E&&0===e.target.value.length&&(z(!1),g())},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),q())},placeholder:"Message ".concat((null==I?void 0:I.name)||"#general"),className:"pr-20"}),(0,r.FD)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[(0,r.Y)(m,{variant:"ghost",size:"sm",onClick:()=>y(!Y),className:"h-6 w-6 p-0",children:(0,r.Y)(ej.A,{className:"w-4 h-4"})}),(0,r.Y)(m,{variant:"ghost",size:"sm",onClick:()=>F(!D),className:"h-6 w-6 p-0",children:(0,r.Y)(H.A,{className:"w-4 h-4"})})]})]}),(0,r.Y)(m,{onClick:q,size:"sm",children:(0,r.Y)(e_.A,{className:"w-4 h-4"})})]}),Y&&(0,r.Y)("div",{className:"absolute bottom-20 left-4 z-50",children:(0,r.Y)(G,{onEmojiSelect:e=>{var t;w(t=>t+e),y(!1),null==(t=_.current)||t.focus()},onClose:()=>y(!1)})}),D&&(0,r.Y)("div",{className:"absolute bottom-20 left-4 z-50",children:(0,r.Y)(Q,{onImageUpload:e=>{h("Image partag\xe9e: ".concat(e),"image",e),F(!1)},onClose:()=>F(!1)})})]})]}),(0,r.FD)("div",{className:"bg-white w-full md:w-64 md:min-w-64 border-l border-slate-200",children:[(0,r.Y)("div",{className:"p-4 border-b border-slate-200",children:(0,r.FD)("h3",{className:"font-semibold text-slate-900 flex items-center space-x-2",children:[(0,r.Y)(eI.A,{className:"w-4 h-4"}),(0,r.FD)("span",{children:["Utilisateurs (",o.length,")"]})]})}),(0,r.Y)(eF,{className:"h-full p-4",children:(0,r.Y)("div",{className:"space-y-2",children:o.map(e=>(0,r.FD)("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-slate-50 cursor-pointer group",onClick:()=>{("admin"===t.role||"moderator"===t.role&&"user"===e.role)&&(S(e.id),k(!0))},children:[(0,r.Y)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold text-white",style:{backgroundColor:e.color},children:e.avatar}),(0,r.FD)("div",{className:"flex-1 min-w-0",children:[(0,r.FD)("div",{className:"flex items-center space-x-1",children:[(0,r.Y)("span",{className:"text-sm font-medium text-slate-900 truncate",children:e.username}),(0,r.Y)(ey,{role:e.role})]}),(0,r.FD)("div",{className:"flex items-center space-x-1",children:[(0,r.Y)(eE.A,{className:"w-2 h-2 fill-green-500 text-green-500"}),(0,r.Y)("span",{className:"text-xs text-slate-500",children:"En ligne"})]})]}),("admin"===t.role||"moderator"===t.role&&"user"===e.role)&&(0,r.Y)(ew.A,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"})]},e.id))})})]}),A&&R&&(0,r.Y)(ev,{targetUserId:R,targetUsername:(null==(e=o.find(e=>e.id===R))?void 0:e.username)||"",currentUserRole:t.role,onModerate:v,onClose:()=>{k(!1),S(null)}})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[853,967,441,684,358],()=>t(8610)),_N_E=e.O()}]);